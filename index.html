<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Card</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/lightbox.css">
    <script src="js/lightbox-plus-jquery.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&amp;display=swap" rel="stylesheet">
</head>

<body>
    <h1>Menu Card</h1>
    <h2>Click on the image to view the Menu</h2>
    <br>

    <div class="container">
        <div class="gallery" id="menupics">
            <noscript id="nojs"> <h1>Enable Javascript in your browser to view the menu</h1></noscript>

 </div>
    </div>
    <script>
        let menupics = document.getElementById('menupics');
        let myvar = 1
        var currentURL = window.location.href;
            // let finalimg = '<img src="/Hotel-menu/images/1.jpeg">'
            // menupics.append(` test: ${myvar}`);

        /*let piclist = "http://127.0.0.1:8080/Hotel-menu/images/1.jpeg"
        fetch(piclist)
        then(response => response.blob())
            .then(data => {
                menupics.innerHTML = `<img scr="${piclist}"/>`
            })*/


        /*  for (let i = 1; i <= 8; i++) {
              document.getElementById("nojs").insertAdjacentHTML("beforeBegin",
                  `<a href='${currentURL}/images/${i}.jpeg' data-lightbox="mygallery"> <img src='${currentURL}/images/${i}.jpeg'></a>`);
          }*/

        for (let i = 1; i <= 50; i++) {

            const extensions = ["jpg", "jpeg", "png"];
            let extensionindex;
            let noimg;
            for (let j = 0; j <= 3; j++) {
                let imgurl = `${currentURL}/images/${i}.${extensions[j]}'`;
                var http = new XMLHttpRequest();
                http.open('HEAD', `${currentURL}/images/${i}.${extensions[j]}`, false);
                http.send();
                if (http.status == 200) {
                    extensionindex = j;
                    j = 4;
                }
                if (j == 3) {
                    noimg = 1;
                    break;
                }
            }
            if (noimg == 1) {
                break;  
            }
            document.getElementById("nojs").insertAdjacentHTML("beforeBegin",
                `<a href='${currentURL}/images/${i}.${extensions[extensionindex]}?a=${Math.floor((Math.random() * 10000) + 1)}' data-lightbox="mygallery" data-title="Use your two fingures to zoom in"><img src='${currentURL}/images/${i}.${extensions[extensionindex]}?a=${Math.floor((Math.random() * 10000) + 1)}'></a>`);
        }
    </script>
    <footer>
    <div id="watermark">
        <p><b>Made with &#10084;&#65039; by <a href="https://bufferstormofficial.github.io/redirect/" target="_blank">Buffer Storm</a></b></p>
    </div>
    </footer>
</body>

</html>
